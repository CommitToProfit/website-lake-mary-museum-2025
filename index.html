<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lake Mary Historical Museum</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">üèõÔ∏è</div>
                    <div>
                        <h1>Lake Mary Historical Museum</h1>
                        <p>Preserving Our Heritage</p>
                    </div>
                </div>
                <button class="admin-login" onclick="showAdminLogin()">Admin Login</button>
            </div>
        </div>
    </header>

    <nav>
        <div class="container">
            <div class="nav-links">
                <a href="#" class="active">Home</a>
                <a href="#calendar">Calendar</a>
                <a href="#exhibits">Exhibits</a>
                <a href="#collections">Collections</a>
                <a href="#visit">Visit</a>
                <a href="#about">About</a>
            </div>
        </div>
    </nav>

    <main>
        <div class="container">
            <section class="hero">
                <h2>Welcome to Lake Mary's Heritage</h2>
                <p>The Lake Mary Historical Museum exists to preserve and promote the history of the city and the surrounding area. We're currently preparing exciting new exhibits and will reopen with enhanced displays. Discover our rich heritage through artifacts, photographs, documents and other materials that tell the story of Lake Mary and surrounding communities.</p>
                <div class="status-banner">
                    <p><strong>üìç Current Status:</strong> Planning exciting new exhibits - check our calendar for upcoming events!</p>
                </div>
            </section>

            <section class="calendar-section" id="calendar">
                <div class="calendar-header">
                    <h2>Museum Calendar</h2>
                    <div class="calendar-nav">
                        <button onclick="changeMonth(-1)">‚Äπ Previous</button>
                        <span id="current-month">August 2025</span>
                        <button onclick="changeMonth(1)">Next ‚Ä∫</button>
                    </div>
                </div>

                <div class="calendar-tabs">
                    <button class="calendar-tab active" onclick="switchTab('all')">All Events</button>
                    <button class="calendar-tab" onclick="switchTab('upcoming')">Upcoming Events</button>
                    <button class="calendar-tab" onclick="switchTab('historical')">Historical Events</button>
                </div>

                <div class="calendar-grid" id="calendar-grid">
                    <div class="loading">Loading calendar...</div>
                </div>
            </section>

            <section class="events-section" id="events">
                <div class="loading">Loading events...</div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Visit Us</h3>
                    <p>Tuesday through Saturday<br>10am to 3pm</p>
                    <p>123 Lake Mary Blvd<br>Lake Mary, FL 32746</p>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>Phone: (407) 555-0123</p>
                    <p>Email: info@lakemarymuseum.com</p>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <p>Help preserve Lake Mary's history</p>
                    <a href="#">Become a Member</a><br>
                    <a href="#">Make a Donation</a>
                </div>
            </div>
            <p>&copy; 2025 Lake Mary Historical Museum. All rights reserved.</p>
        </div>
    </footer>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('adminModal')">&times;</span>
            <h2>Admin Login</h2>
            <div id="login-error"></div>
            <form id="adminForm">
                <input type="email" id="email" placeholder="Email" required>
                <input type="password" id="password" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div id="addEventModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addEventModal')">&times;</span>
            <h2>Add New Event</h2>
            <div id="event-error"></div>
            <form id="addEventForm">
                <input type="text" id="eventTitle" placeholder="Event Title" required>
                <textarea id="eventDescription" placeholder="Event Description" required></textarea>
                <input type="date" id="eventDate" required>
                <input type="text" id="eventTime" placeholder="Event Time" value="10:00 AM - 4:00 PM">
                <input type="text" id="eventLocation" placeholder="Event Location" value="Museum Gallery">
                <select id="eventType" required>
                    <option value="">Select Event Type</option>
                    <option value="upcoming">Upcoming Event</option>
                    <option value="historical">Historical Event</option>
                </select>
                <button type="submit">Add Event</button>
            </form>
        </div>
    </div>

    <!-- Event Details Modal -->
    <div id="eventModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('eventModal')">&times;</span>
            <div id="eventDetails"></div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel" style="display: none;">
        <div class="container">
            <h2>Admin Panel</h2>
            <button onclick="showAddEventModal()" class="admin-btn">Add New Event</button>
            <button onclick="logout()" class="admin-btn logout">Logout</button>
        </div>
    </div>

    <!-- Supabase JavaScript Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
</body>
</html>